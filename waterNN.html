<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<title>Water Discharge | Hanfeng Zhai</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="Fluid Mechanics, Applied Mathematics" />
  
  
  
  
  <meta name="description" content="An optimized algorithm for the prediction of the water emptying time on BPNNAuthor: Hanfeng Zhai $^a$, Kai Wang $^b$, Zhenyu Liu $^c$Supervisor: Reza Alam $^d$ $^a$ School of Mechanics and Engineeri">
<meta property="og:type" content="website">
<meta property="og:title" content="Hanfeng Zhai">
<meta property="og:url" content="www.hanfengzhai.net/waterNN.html">
<meta property="og:site_name" content="Hanfeng Zhai">
<meta property="og:description" content="An optimized algorithm for the prediction of the water emptying time on BPNNAuthor: Hanfeng Zhai $^a$, Kai Wang $^b$, Zhenyu Liu $^c$Supervisor: Reza Alam $^d$ $^a$ School of Mechanics and Engineeri">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="/assets/img/waterNN-abs.jpg">
<meta property="og:image" content="/assets/img/w-method1.png">
<meta property="og:image" content="/assets/img/w-method2.png">
<meta property="og:image" content="/assets/img/w-result1.png">
<meta property="og:image" content="/assets/img/w-result2.png">
<meta property="og:image" content="/assets/img/w-result3.png">
<meta property="og:image" content="/assets/img/w-result4.png">
<meta property="og:image" content="/assets/img/w-further.png">
<meta property="article:published_time" content="2020-08-02T16:00:00.000Z">
<meta property="article:modified_time" content="2021-06-12T02:21:48.272Z">
<meta property="article:author" content="Bachelor Student @ Shanghai University">
<meta property="article:tag" content="Fluid Mechanics">
<meta property="article:tag" content="Neural Networks">
<meta property="article:tag" content="Algorithm">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/assets/img/waterNN-abs.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Hanfeng Zhai" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/avatar.jpg">
  <link rel="apple-touch-icon" href="/css/images/avatar.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt; src:url("/css/fonts/FuturaPTBold.otf") format("woff");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt-light; src:url("/css/fonts/FuturaPTBook.otf") format("woff");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt-italic; src:url("/css/fonts/FuturaPTBookOblique.otf") format("woff");font-weight:400;font-style:italic;}
}

  </style>
  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/jquery-3.1.1.min.js"></script>

  
<script src="/js/bootstrap.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    
<link rel="stylesheet" href="/css/dialog.css">

  

  

  
    <link rel="stylesheet" href="/css/header-post.css" >
  

  
    <link rel="stylesheet" href="/css/archive.css" >
  
  
  

</head>



  <body>


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
             <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                 >
                  <img width="124px" height="124px" alt="Hike News" src="/css/images/avatar.jpg">
              </a>
            
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">Hοme</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">Abοut</a> </li>
		      
		  <li> <a class="main-nav-link" href="/awards">Awards</a> </li>
                
                  <li> <a class="main-nav-link" href="/research">Research</a> </li>
                
                  <li> <a class="main-nav-link" href="/note">Note</a> </li>
                
                  <li> <a class="main-nav-link" href="/software">Software</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="page-"  class="article article-type-page" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
    <div class="article-meta">
      
      
      
      

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <img src="/assets/img/waterNN-abs.jpg" />

<h1 id="An-optimized-algorithm-for-the-prediction-of-the-water-emptying-time-on-BPNN"><a href="#An-optimized-algorithm-for-the-prediction-of-the-water-emptying-time-on-BPNN" class="headerlink" title="An optimized algorithm for the prediction of the water emptying time on BPNN"></a>An optimized algorithm for the prediction of the water emptying time on BPNN</h1><p><strong>Author:</strong> Hanfeng Zhai $^a$, Kai Wang $^b$, Zhenyu Liu $^c$<br><strong>Supervisor:</strong> Reza Alam $^d$</p>
<p>$^a$ <a target="_blank" rel="noopener" href="https://smes.shu.edu.cn/">School of Mechanics and Engineering Science</a>, <a target="_blank" rel="noopener" href="https://www.shu.edu.cn/">Shanghai University</a><br>$^b$ <a target="_blank" rel="noopener" href="http://www.doe.zju.edu.cn/doeen/main.htm">College of Energy Engineering</a>, <a target="_blank" rel="noopener" href="https://www.zju.edu.cn/english/">Zhejiang University</a><br>$^c$ <a target="_blank" rel="noopener" href="http://me.zju.edu.cn/meenglish/main.htm">School of Mechanical Engineering</a>, <a target="_blank" rel="noopener" href="https://www.zju.edu.cn/english/">Zhejiang University</a><br>$^d$ <a target="_blank" rel="noopener" href="https://me.berkeley.edu/">Department of Mechanical Engineering</a>, <a target="_blank" rel="noopener" href="https://www.berkeley.edu/">University of California, Berkeley</a></p>
<blockquote>
<p><strong>STATEMENT:</strong> This is a project from an online project-based course taught by Prof. <a target="_blank" rel="noopener" href="https://me.berkeley.edu/people/m-reza-alam/">Reza Alam</a>. Hanfeng is the group leader of the project and finished the project with his team member Kai and Zhenyu together. The detailed project paper can be viewed <a href="/file/water_nn.pdf">here</a>.</p>
</blockquote>
<hr>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2>
<p>
The water discharge problem is a classic fluid mechanics problem yet hard to resolve due to its complex nature involves water-air interactions that generate air bubbles and vortexes. Here, based on the momentum conservation and influx equation, we present an analytical solution for a square pipe water discharge, showing that the water emptying time is quadratically proportional to water height and pipe length, and the solution is distributed on a surface in the time – height – length space. <a id="more"></a>We also carry out experiments changing the angles for different bottles to measure the water emptying time, and hence calculate the discharge rate. It is found that the water discharge rate is the highest for the Nongfu spring bottle and lowest for the Pocalri bottle, while higher with bigger angles. The phenomenon is explained with bottle shape, consisting the bottleneck shape and bottle-body trough. We qualitatively show that with a bottle shape depicted by \(n>1\) with equation \(y=x^n\), or with a trough on the bottle-body, there is more likely to generate vortexes and friction to slow the discharge. Moreover, the bottle-body trough plays a major role in our approach. A regression model is built based on our experimental data of the water discharge with back-propagation neural network (BPNN) to obtain the satisfied network through running a loop with \(10^5\) epochs. We obtain that for our data the best BPNN parameters are: neuron \(ξ=1\) and learning rate \(α={10^-}^3\). The generated satiated network with our algorithm shows good accuracy, with determining factor \(R^2=0.96902\). We also implement a randomly generated dataset to get a prediction from the network.




<h2 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h2><p>Here, we first introduce the water discharge problem and our approaches through the schematics as shown below, and we also provide an analytical solution for the simplified model as shown in the given form.<br><img src="/assets/img/w-method1.png" /><br>We hence introduce the ideology of how we tackle this problem, throught he regression model as shown running with the given algorithms.<br><img src="/assets/img/w-method2.png" /></p>
<h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><img src="/assets/img/w-result1.png" />
<img src="/assets/img/w-result2.png" />
<img src="/assets/img/w-result3.png" />
<img src="/assets/img/w-result4.png" />

<h2 id="Further-Discussion"><a href="#Further-Discussion" class="headerlink" title="Further Discussion"></a>Further Discussion</h2><p>After the beyond works and discussion with Prof. Alam, we therefore move our works forward to qualitatively provide a method to optimize the bottle shape for faster discharge rate as shown from the comparing the bottle parameters based on our experiments.<br><img src="/assets/img/w-further.png" /></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] P. B. Whalley. Flooding, slugging and bottle emptying. Int. J. Multiphase Flow 13(5), 723 (1987).<br>[2] Chunyang Ding. An Increasing Flow of Knowledge: Investigating Torricelli’s Law, or the Effect of Height on Flow Rate. Physics Internal Assessment: Experiment Report. May 2014.<br>[3] C. I. Ossai. Pump-off identification with time series analysis of transient water T discharge rate. Journal of Petroleum Science and Engineering 181 (2019) 106203<br>[4] H. Mayer. Bottle Emppying: A Fluid Mechanics and Measurements Exercise for Engineering Undergraduate Students. Fluids 2019, 4, 183<br>[5] G. Liu, F. Tong, B. Tian, J. Gong. Finite element analysis of flood discharge atomization based on water–air two-phase flow. Applied Mathematical Modelling 81 (2020) 473–486.<br>[6] F. Geiger, K. Velten, and F.-J. Methner. 3D CFD simulation of bottle emptying processes. J. Food Eng. 109(3), 609 (2012).<br>[7] C. Clanet and G. Searby. On the glug-glug of ideal bottles. J. Fluid Mech. 510, 145 (2004).<br>[8] G. B. Deane and H. Czerski. A mechanism stimulating sound production from air bubbles released from a nozzle. J. Acoust. Soc. Am. 123(6), EL126 (2008).<br>[9] L. Rohilla, A. K. Das. Fluidics in an emptying bottle during breaking and making of interacting interfaces. Phys. Fluids 32, 042102 (2020).<br>[10] T.F. Brooks, D.S. Pope, and A.M. Marcolini. Airfoil self-noise and prediction. Technical report, NASA RP-1218, July 1989.<br>[11] K. Lau. A neural networks approach for aerofoil noise prediction. Masterâ€TMs thesis, Department of Aeronautics. Imperial College of Science, Technology and Medicine (London, United Kingdom), 2006.<br>[12] R. Lopez. Neural Networks for Variational Problems in Engineering. PhD Thesis, Technical University of Catalonia, 2008.</p>
<h2 id="Authorship-contribution-statement"><a href="#Authorship-contribution-statement" class="headerlink" title="Authorship contribution statement"></a>Authorship contribution statement</h2><p>H. Zhai contributes to drafting the manuscript, providing the algorithms (BPNN) and conceive the results; K. Wang contributes to designing and carrying out the experiments; Z. Liu contributes to providing the analytical solution and carrying out the experiments.</p>
<h2 id="Appendix-Code-data-and-supplementary-materials"><a href="#Appendix-Code-data-and-supplementary-materials" class="headerlink" title="Appendix. Code, data and supplementary materials"></a>Appendix. Code, data and supplementary materials</h2><p>The code including Algorithm 1 and Algorithm 2, the raw and the operated database, and other related materials is uploaded on <a target="_blank" rel="noopener" href="https://github.com/hanfengzhai/waterNN">https://github.com/hanfengzhai/waterNN</a>.</p>

      
    </div>
    <footer class="article-footer">
      
      
      <div>
        <ul class="post-copyright">
          Copyright Hanfeng Zhai | <a target="_blank" rel="noopener" href="https://hanfengzhai.net/"> www.HanfengZhai.net </a>
         
        </ul>
<div>

      
      
      

    </footer>
  </div>
  
    
  
</article>

<!-- Table of Contents -->

</section>
        
      </div>
      
      <footer id="footer">
  



  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hiker</a> </p>
	      
        <p id="copyRightEn"> &copy; 2021 Hanfeng Zhai, All Rights Reserved.</p>
	      
        <p> 86-18021027596 | <a href="mailto:Hanfeng.Zhai@outlook.com"> Hanfeng.Zhai@outlook.com </a> </p>
        
        <p> <a target="_blank" rel="noopener" href="https://www.researchgate.net/profile/Hanfeng_Zhai"> ResearchGate </a> | <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/hanfengzhai/"> LinkedIn </a> | <a target="_blank" rel="noopener" href="https://www.facebook.com/profile.php?id=100023812350047"> Facebook </a> | <a target="_blank" rel="noopener" href="https://github.com/hanfengzhai"> GitHub </a> | <a target="_blank" rel="noopener" href="https://twitter.com/HanfengZhai"> Twitter </a> | <a target="_blank" rel="noopener" href="https://scholar.google.com/citations?user=S5jCDXcAAAAJ&hl=en"> Google Scholar </a> | <a target="_blank" rel="noopener" href="https://shu-cn.academia.edu/FrankZhai"> Academia </a> | <a target="_blank" rel="noopener" href="https://orcid.org/0000-0003-1511-7597"> ORCiD </a> | <a target="_blank" rel="noopener" href="https://space.bilibili.com/355677660"> BiliBili </a> | <a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCn7UKJez4SV9VkO8pNqI5Pw?view_as=subscriber"> YouTube </a> | <a target="_blank" rel="noopener" href="https://hanfengzhai.net/cn"> 中文版 </a>
        </p>


        <p> <a target="_blank" rel="noopener" href="https://smes.shu.edu.cn/"> School of Mechanics and Engineering Science</a>, <a target="_blank" rel="noopener" href="https://www.shu.edu.cn/"> Shanghai University </a> | 99 Shangda Rd., Shanghai 200444, PRC </p>

	      <a target="_blank" rel="noopener" href="https://info.flagcounter.com/x6ta"><img src="https://s11.flagcounter.com/count2/x6ta/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_10/viewers_0/labels_0/pageviews_0/flags_0/percent_0/" alt="Flag Counter" border="0"></a>



		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>




    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">hοme</a>
  
    <a href="/about" class="mobile-nav-link">abοut</a>
  
    <a href="/research" class="mobile-nav-link">research</a>
  
    <a href="/note" class="mobile-nav-link">Note</a>
  
    <a href="/software" class="mobile-nav-link">Software</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>




<script src="/js/scripts.js"></script>












	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>








  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Hanfeng Zhai
          </div>
          <div class="panel-body">
            Copyright © 2021 Bachelor Student @ Shanghai University All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
</body>
</html>
